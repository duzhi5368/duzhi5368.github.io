

  
    
  


  




  


  

<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="generator" content="Hugo 0.29 with theme Tranquilpeak 0.4.1-BETA">
    <title>网络编程（二）</title>
    <meta name="author" content="FreeKnight.Wong">
    <meta name="keywords" content="FreeKnight, duzhi5368, FreeKnight, Blog, duzhi5368">

    <link rel="icon" href="https://duzhi5368.github.io/favicon.png">
    

    
    <meta name="description" content="NetBIOS&mdash;最基础的网络API

传统的网络接口NetBIOS,他和Winsock类似，是一种与协议无关的网络API。

重定向器提供了与传输无关的文件I/O方式。

">
    <meta property="og:description" content="NetBIOS&mdash;最基础的网络API

传统的网络接口NetBIOS,他和Winsock类似，是一种与协议无关的网络API。

重定向器提供了与传输无关的文件I/O方式。

">
    <meta property="og:type" content="blog">
    <meta property="og:title" content="网络编程（二）">
    <meta property="og:url" content="/2007/04/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%BA%8C/">
    <meta property="og:site_name" content="The lost island">
    <meta name="twitter:card" content="summary">
    <meta name="twitter:title" content="The lost island">
    <meta name="twitter:description" content="NetBIOS&mdash;最基础的网络API

传统的网络接口NetBIOS,他和Winsock类似，是一种与协议无关的网络API。

重定向器提供了与传输无关的文件I/O方式。

">
    
      <meta name="twitter:creator" content="@duzhi5368">
    
    

    
    

    
      <meta property="og:image" content="//www.gravatar.com/avatar/323d61e9279c83a8fbccc01acf01f1e2?s=640">
    

    
    
    

    

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://duzhi5368.github.io/css/style-fpbzgxsy0kgmdvyrj5ykkg6ratccrk3gocmaqn4xpcjywmv5dteilzucro4f.min.css" />
    
    

    
      
    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="4">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://duzhi5368.github.io/">The lost island</a>
  </div>
  
</header>

      <nav id="sidebar" data-behavior="4">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://duzhi5368.github.io/#about">
          <img class="sidebar-profile-picture" src="//www.gravatar.com/avatar/323d61e9279c83a8fbccc01acf01f1e2?s=110" alt="作者的图片" />
        </a>
        <h4 class="sidebar-profile-name">FreeKnight.Wong</h4>
        
          <h5 class="sidebar-profile-bio">Ever tried, ever failed, fail better.</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://duzhi5368.github.io/">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">首页</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://duzhi5368.github.io/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">标签</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://duzhi5368.github.io/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">归档</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://duzhi5368.github.io/#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">关于</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://duzhi5368.github.io/OLDPAGE/index.html">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">OldPage</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/duzhi5368" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.facebook.com/FreeKnight5368" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-facebook-official"></i>
      
      <span class="sidebar-button-desc">Facebook</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://www.flickr.com/photos/158973746@N07" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-flickr"></i>
      
      <span class="sidebar-button-desc">Flickr</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://duzhi5368.github.io/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="4"
        class="
               hasCoverMetaIn
               ">
        <article class="post" itemscope itemType="http://schema.org/BlogPosting">
          
          
            <div class="post-header main-content-wrap text-left">
  
    <h1 class="post-title" itemprop="headline">
      网络编程（二）
    </h1>
  
  
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2007-04-03T00:00:00Z">
        
  四月 3, 2007

      </time>
    
    
  
  
    <span>发布在</span>
    
      <a class="category-link" href="https://duzhi5368.github.io/categories/%e7%a8%8b%e5%ba%8f">程序</a>, 
    
      <a class="category-link" href="https://duzhi5368.github.io/categories/2007">2007</a>
    
  


  </div>

</div>
          
          <div class="post-content markdown" itemprop="articleBody">
            <div class="main-content-wrap">
              <h3 id="netbios-最基础的网络api">NetBIOS&mdash;最基础的网络API</h3>

<p>传统的网络接口NetBIOS,他和Winsock类似，是一种与协议无关的网络API。</p>

<p>重定向器提供了与传输无关的文件I/O方式。</p>

<p></p>

<p>邮槽是一种简单的接口，可实现Windows机器之间的广播和单向数据通信。</p>

<p>命名管道可以建议一个双向管道，这种管道可以提供对Windows安全通信的支持。</p>

<p>一般的Windows平台和大部分应用程序都依赖于NetBIOS,特殊的有WindowsCE，它仅支持NetBIOS的名字解析。</p>

<p>Win32 NetBIOS接口类似DX，支持向后兼容。即，即使用户使用最新版本的NetBIOS,它也会支持早期版本NetBIOS的所有API接口。</p>

<h3 id="osi网络模型">OSI网络模型</h3>

<p>“开放系统互连”OSI模型从高层次对网络系统进行了描述，将网络系统分为了7层。具体的我已在另一日志上做有说明，不再重复，NetBIOS主要是在会话层和传输层发挥作用。进行控制两主机间的通信，数据传输服务。</p>

<p>NetBIOS API的一大特点是协议无关性，也就意味着一个优秀的NetBIOS程序在大部分协议上都可以运行，然而它依旧有一个要求，进行通信的两台计算机必须存在一个相同的协议，否则依旧是无法运行的。</p>

<h3 id="lana编号">LANA编号</h3>

<p>LAN配适器（LAN adapter）编号的意义是将传输协议与NetBIOS建立对应关系。LANA编号是对应网卡与传输协议的唯一组合。假设我们在某工作站上装了两张网卡，并且安装了两套协议，那么他就有四个LABA编号。</p>

<p>其中LANA0就是默认的LANA。其他的LANA编号是随机的，而且因为“即插即用”的关系，Win95.98中LANA编号是不可更改的，但是在WinNT中，系统进行了优化，允许我们对编号进行控制。</p>

<p>此时我们可以想象一件事，假若我们建立了一个NetBIOS应用程序，仅实现对LANA1的监听，那么假若本机LANA1和对方LANA1对应的协议不同的话，那么就无法通信，所以，健壮的NetBIOS应用应当使用全面的LANA监听，只要这两台计算机之间有一个相同的协议，立刻就允许通信。</p>

<h3 id="netbios名字">NetBIOS名字</h3>

<p>它包括五部分：“唯一名”(ID)，“域组名”(IC)，普通组名(IE),Internet组名(20),第16字符标识(<em>MSBROWSE</em>)</p>

<p>其实Micosft网络中的机器名就是NetBIOS名字中的“唯一名”，它不允许在网络上有重复，当用户登陆时，WINS服务器就会向所有登陆用户发送消息，查询是否有名称重复，则没有计算机进行回复，则允许使用该名字。NetBIOS名字中的“组名”是用来群发消息的，它不需要唯一性。</p>

<p>只要安装了TCP/IP协议的计算机，均可使用nbtstat命令行对本机和其他网络上注册的计算机进行检测获取其NetBios名称。其中的第16字符标识是用来区别WINS服务的类型的，是工作站？还是服务器？监视器……等。</p>

<h3 id="netbios特性">NetBIOS特性</h3>

<p>NetBIOS同时支持“面向连接”服务和“无连接”服务。</p>

<p>“面向连接”的服务，是允许两个客户机间建立一个对话，它是双向的，允许双方互相传送消息。它可以保证数据包的可靠性，但会浪费一些性能用来建立连接。</p>

<p>“无连接”的服务或是数据报服务，都是无需建立好连接的，仅仅是客户机将数据根据NetBIOS名字进行发包，对方是否能够接收到，都是不存在任何保障的，但是性能比较高，无需要消耗来建立连接。</p>

<h3 id="重定向器">重定向器</h3>

<p>我们假如想访问网络上的一个文件，对它进行读写工作，那么我们需要通过一个将自己的I/O请求发送到网络，让网络中的某一物件将请求转发到远程设备，建立访问。而这个负责中转请求的就是“I/O重定向器”。</p>

<p>但是我们的重定向器是如何将普通的I/O请求“重定向”到远程设备的呢？通过UNC地址来引用远程文件的。</p>

<p>我们来理解下UCN路径，实际上它就是网络文件中对设备访问的一个统一规范。它的格式如下</p>

<p>\服务器IP \ 共享名 \ 文件名</p>

<p>我们可能会有疑问，为什么没见文件路径呢？就象E:\Mp3\Pop这样的文件路径在UCN中是不存在的，它已经将这一长串的路径简化为一个网络间的“共享名”。</p>

<h3 id="邮槽">邮槽</h3>

<p>它是将客户机消息传送或广播给其他的服务器的一种通信媒介，他可以进行信息传输，甚至是组群的信息传输，但是由于是基于广播通信体系设计出来的，所以，它是单向的，所以也没有所谓的安全通信。</p>

<p>邮槽的通信是倚赖于重定向器的，在Win95,98中，消息是完全依靠“数据报”的形式发送的，而在Win NT,2000中这一规则改变了，当一个信息长度长于424字节时，则会要求建立一个“面向连接的”SMB会话。所以假如我们发送一个大于424字节的消息的话，Win NT，2000会将424字节之后的信息全部丢弃。所以，当我们需要进行比较长的信息交互的话，则可使用“面向连接的”命名管道传输。</p>

<p>当我们建立邮槽的应用程序时，需要包含Winbase.h头文件，之后建立与Kernel32.lib库的连接。</p>

<p>因为是单向设计，所以若我们在设计邮槽时，服务器方面和客户端方面所负责的方面是不同的。</p>

<p>服务器方面需要负责信息的接受读取，不必写入。</p>

<ol>
<li>CreateMailslot创建邮槽，传出句柄。</li>
<li>ReadFile，使用该邮槽从客户机接收数据。</li>
<li>CloseHandle释放邮槽句柄，关闭邮槽。</li>
</ol>

<p>客户端则仅负责信息的写入。也是先创建邮槽，之后WriteFile进行写入，之后CloseHandle关闭。</p>

<p>平时邮槽服务器还可以添加以下两个函数，GetMailslotInfo来对数据进行轮询，动态的对信息缓冲区大小进行动态设置。</p>

<p>SerMailslotInfo则可以设置一个邮槽的超时值，根据这个时间可以防止读邮槽时出现的“凝结”状态。（此状态是由于读邮槽时，若服务器突然终止运行，邮槽被无限挂起）</p>

<h3 id="命名管线-named-pipes">命名管线(Named Pipes)</h3>

<p>它是一种简单的进程间通信（IPC）机制，与邮槽不同的是，它建立了计算机之间的连接，并且支持可靠的，双向的数据通信。</p>

<p>命名管线是围绕Windows文件系统设计的一种机制，采用“命名管道文件系统NamedPipeFileSystem”（NPFS）接口创建，所以Client和Server端都可采用Win32文件系统API（ReadFile,WriteFile）来进行数据收发。</p>

<p>它与邮槽一样依赖于MSNP重定向器，用MSNP来进行命名管道的发送和接收。如此一来，NPFS也拥有了协议无关特性，而它也是通用命名规范UNC来进行标识的。</p>

<p>命名管道进行基本通信的模式有两种：字节模式和消息模式。</p>

<p>其中字节模式，是将消息做为一个连续的字节流模式，长期的在CS之间流动。</p>

<p>而消息模式，则是将消息做为一个单位包发出，每次在管道中发出一条消息，它就必须做为一个绝对完整的消息进行读取。</p>

<p>与邮槽一样，在使用命名管道编程的话，需要包含Winbase.h头文件，之后建立与Kernel32.lib库的连接。</p>

<p>而命名管道中信息是可以双向传递的，此时要区别客户端和服务器端，就看哪个负责创建命名管道。命名管道仅可以由服务器创建，而客户机仅能和已经拥有命名管道的服务器进行连接。但是值得注意的是，命名管道仅可以在Win2000,NT上创建，WIN95,98上无法创建命名管道的。但Win98,95可做为客户端与Win2000服务器正常NPFS连接。</p>

<h5 id="命名管道的服务器负责">命名管道的服务器负责</h5>

<ol>
<li>CreateNamedPipe创建一个命名管道实例，获得句柄</li>
<li>ConnectNamedPipe监听连接请求</li>
<li>ReadFile,WriteFile接收数据，发送数据</li>
<li>DisconnectNamedPipe关闭命名管道</li>
<li>CloseHandle关闭命名管道实例句柄</li>
</ol>

<h6 id="命名管道的客户端负责">命名管道的客户端负责</h6>

<ol>
<li>WaitNamedPipe等待一个命名管道实例</li>
<li>CreateFile建立与命名管道的连接</li>
<li>WriteFile和ReadFile分别想服务器发送数据</li>
<li>CloseHandle关闭命名管道</li>
</ol>

<p>当然，实际上还有很多问题，例如，服务器可能支持多个命名管道，这时需要使用多线程，为提高效率，需要使用异步I/O，重叠式I/O等。</p>

<p>这个一会我会写些代码来进行补充说明，当然也会将上面概述的函数参数也介绍一下。</p>

<p>命名管道中还有一些附加的函数，例如CallNamedPipe和TransactNamedPipe函数，君可以有效的减轻一个应用程序的编码复杂性，另外几个GetNamedPipeInfo,SetNamedPipeHandleState,GetNamedPipeHandleState等函数，可以快速方便的获得命名管道信息，并对其进行修改。</p>

<p>只上我们说的种种，大多是协议无关，利用重定向器进行“间接”通信的方法，而Winsock技术则是进行直接通信的方式。</p>

<p>我先把这快的代码整理一下，之后我们继续Winsock的复习。基于一中网络传输协议，进行直接通信的技巧。</p>

<p>###测试建立多线程命名管道服务器源码</p>

<pre><code class="language-CPP">// NPFSServer.h

#pragma once

#include &lt;windows.h&gt;    // 包含了windows头文件，则无需再包含winbase.h
#include &lt;stdio.h&gt;
#include &lt;conio.h&gt;

// Fun:处理一个命名管道实例的线程
DWORD WINAPI PipeInstanceProc(LPVOID lpParameter);

//----------------------------------------------------------------------------------------------------------------------

//NPFSServer.cpp

/*
* 文件名称：NPFSServer.cpp
*
* 文件作用：测试建立多线程命名管道服务器
*
* 完成日期：2007.04.03
*/

#include &quot;NPFSServer.h&quot;


#define MAX_NUM_PIPES 5     // 宏定义命名管道最大个数为5个

void main( void ) 
{
HANDLE hThreadHandle; // 线程句柄
DWORD ThreadId;     // 线程编号

for( int i = 0; i &lt; MAX_NUM_PIPES; i++ )
{
    // Fun:为每个命名管道实例创建一个线程,并调用其回调函数

    if ( ( hThreadHandle = CreateThread( NULL,      // WinNT后永久设NULL则可
              0,       // 线程初始化堆栈大小，一般设为0
              PipeInstanceProc, // 线程回调函数的指针，即函数名
              NULL,      // 传输给回调函数的参数，通过它实现对回调函数的控制 
              0,       // 线程创建完毕后的状态，0表示创建后立刻执行线程，CREATE_SUSPENDED表示暂时挂起，等待叫醒 
              &amp;ThreadId     // 线程ID值的地址
             ) ) == NULL )
    {
     printf( &quot;创建线程失败！ %\n&quot;, GetLastError() );
     return;
    }

    CloseHandle( hThreadHandle );
}

printf( &quot;按下任意键停止命名管道服务器。 \n&quot;);
getchar();
}

/*
*    函数名称： PipeInstanceProc
* 函数参数： (in)LPVOID：     附加信息
*     函数作用： 处理一个命名管道实例的线程
* 函数返回值：(DWORD)若顺利完成，则返回1;若获取域名失败，则返回0
*/
DWORD WINAPI PipeInstanceProc( LPVOID lpParameter )
{
HANDLE hPipeHandle;    // 命名管道的句柄
DWORD nBytesRead;     // 读取收到的信息字节数
DWORD nBytesWritten;    // 发出的写入信息字节数
CHAR cBuffer[256];

/*
* 函数名称： CreateNamedPipe
* 函数参数： (in)LPCTSTR       命名管道名字，UNC标准( \\IP地址\Pipe\唯一标识文件路径 )
*      (in)DWORD       命名管道模式，单双向，读写控制，安全模式( 均被宏定义好，可位或操作 )
*      (in)DWORD       命名管道读，写，等待模式( 均被宏定义好，可位或操作 )
*      (in)DWORD       命名管道最多可创建的实例句柄个数
*      (in)DWORD       命名管道输出缓冲区大小
*      (in)DWORD       命名管道输入缓冲区大小
*      (in)DWORD       命名管道默认超时时间
*      (in)LPSECURITY_ATTRIBUTES 命名管道安全描述符，若为NULL，则句柄不可继承的默认安全。
* 函数作用： 创建一个命名管道实例
* 函数返回值：(HANDLE)成功则返回命名管道实例的句柄，失败则返回值INVALID_HANDLE_VALUE
*/
if ( ( hPipeHandle = CreateNamedPipe(&quot;\\\\.\\PIPE\\Duzhi&quot;,
    PIPE_ACCESS_DUPLEX, PIPE_TYPE_BYTE | PIPE_READMODE_BYTE,
    MAX_NUM_PIPES, 0, 0, 1000, NULL ) ) == INVALID_HANDLE_VALUE )
{
    printf( &quot;创建命名管道失败！ %d\n&quot;, GetLastError() );
    return 0;
}

// 持续处理客户端信息
while( 1 ) 
{
    /*
    *    函数名称： ConnectNamedPipe
    * 函数参数： (in)HANDLE：     命名管道实例句柄
    *      (in)LPOVERLAPPED    是否锁定式命名管道
    *     函数作用： 建立命名管道连接并监听
    * 函数返回值：(bool)若顺利建立，则返回true;若顺利失败，则返回false
    */
    if ( ! ConnectNamedPipe( hPipeHandle, NULL) )
    {
     printf( &quot;连接命名管道失败r %d\n&quot;, GetLastError() );
     CloseHandle( hPipeHandle );
     return 0;
    }

    // 从客户端消息处读取数据,并且原封不动的返回回去，直到客户端关闭
    while( ReadFile(hPipeHandle, cBuffer, sizeof(cBuffer),
     &amp;nBytesRead,    NULL) &gt; 0 )
    {
     printf( &quot;从客户端收到 %d 字节数据\n&quot;, nBytesRead );

     if ( WriteFile(hPipeHandle, cBuffer, nBytesRead,
      &amp;nBytesWritten, NULL) == 0 )
     {
      printf( &quot;发送消息失败 %d\n&quot;, GetLastError() );
      CloseHandle(hPipeHandle);
      return 0;
     }
    }

    if (DisconnectNamedPipe( hPipeHandle ) == 0)
    {
     printf( &quot;断开命名管道失败！ %d\n&quot;, GetLastError() );
     CloseHandle( hPipeHandle );
     return 0;
    }
}

CloseHandle(hPipeHandle);
return 1;
}
</code></pre>
              
            </div>
          </div>
          <div id="post-footer" class="post-footer main-content-wrap">
            
              
                
                
                  <div class="post-footer-tags">
                    <span class="text-color-light text-small">标签</span><br/>
                    
  <a class="tag tag--primary tag--small" href="https://duzhi5368.github.io/tags/%E7%BD%91%E7%BB%9C%E9%80%9A%E8%AE%AF/">网络通讯</a>

                  </div>
                
              
            
            
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://duzhi5368.github.io/2007/04/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%89/" data-tooltip="网络编程（三）">
              
                <i class="fa fa-angle-left"></i>
                <span class="hide-xs hide-sm text-small icon-ml">下一篇</span>
              </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://duzhi5368.github.io/2007/03/%E8%BD%AC%E8%BD%BD%E4%B8%BA%E4%BA%86%E5%BF%98%E5%8D%B4%E7%9A%84%E7%BA%AA%E5%BF%B5---%E5%81%9C%E8%BF%90%E7%BD%91%E6%B8%B8%E5%AE%8C%E5%85%A8%E5%88%97%E8%A1%A8/" data-tooltip="[转载]为了忘却的纪念---停运网游完全列表">
              
                <span class="hide-xs hide-sm text-small icon-mr">上一篇</span>
                <i class="fa fa-angle-right"></i>
              </a>
            </li>
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://duzhi5368.github.io/?=https://duzhi5368.github.io/2007/04/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%BA%8C/">
              <i class="fa fa-home"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


            
              
                <div id="disqus_thread"></div>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>
              
            
          </div>
        </article>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2023 <a href="https://duzhi5368.github.io">FreeKnight</a>. All Rights Reserved
  </span>
</footer>

      </div>
      <div id="bottom-bar" class="post-bottom-bar" data-behavior="4">
        
  <div class="post-actions-wrap">
      <nav >
        <ul class="post-actions post-action-nav">
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://duzhi5368.github.io/2007/04/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%B8%89/" data-tooltip="网络编程（三）">
              
                <i class="fa fa-angle-left"></i>
                <span class="hide-xs hide-sm text-small icon-ml">下一篇</span>
              </a>
            </li>
            <li class="post-action">
              
                <a class="post-action-btn btn btn--default tooltip--top" href="https://duzhi5368.github.io/2007/03/%E8%BD%AC%E8%BD%BD%E4%B8%BA%E4%BA%86%E5%BF%98%E5%8D%B4%E7%9A%84%E7%BA%AA%E5%BF%B5---%E5%81%9C%E8%BF%90%E7%BD%91%E6%B8%B8%E5%AE%8C%E5%85%A8%E5%88%97%E8%A1%A8/" data-tooltip="[转载]为了忘却的纪念---停运网游完全列表">
              
                <span class="hide-xs hide-sm text-small icon-mr">上一篇</span>
                <i class="fa fa-angle-right"></i>
              </a>
            </li>
        </ul>
      </nav>
    <ul class="post-actions post-action-share" >
      
        <li class="post-action hide-lg hide-md hide-sm">
          <a class="post-action-btn btn btn--default btn-open-shareoptions" href="#btn-open-shareoptions">
            <i class="fa fa-share-alt"></i>
          </a>
        </li>
        
          <li class="post-action hide-xs">
            <a class="post-action-btn btn btn--default" target="new" href="https://duzhi5368.github.io/?=https://duzhi5368.github.io/2007/04/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%BA%8C/">
              <i class="fa fa-home"></i>
            </a>
          </li>
        
      
      
        <li class="post-action">
          <a class="post-action-btn btn btn--default" href="#disqus_thread">
            <i class="fa fa-comment-o"></i>
          </a>
        </li>
      
      <li class="post-action">
        
          <a class="post-action-btn btn btn--default" href="#">
        
          <i class="fa fa-list"></i>
        </a>
      </li>
    </ul>
  </div>


      </div>
      <div id="share-options-bar" class="share-options-bar" data-behavior="4">
  <i id="btn-close-shareoptions" class="fa fa-close"></i>
  <ul class="share-options">
    
      <li class="share-option">
        <a class="share-option-btn" target="new" href="https://duzhi5368.github.io/?=https%3A%2F%2Fduzhi5368.github.io%2F2007%2F04%2F%25E7%25BD%2591%25E7%25BB%259C%25E7%25BC%2596%25E7%25A8%258B%25E4%25BA%258C%2F">
          <i class="fa fa-home"></i><span>分享到 Homepage</span>
        </a>
      </li>
    
  </ul>
</div>
<div id="share-options-mask" class="share-options-mask"></div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="//www.gravatar.com/avatar/323d61e9279c83a8fbccc01acf01f1e2?s=110" alt="作者的图片" />
    
    <h4 id="about-card-name">FreeKnight.Wong</h4>
    
      <div id="about-card-bio">Ever tried, ever failed, fail better.</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Game software engineer
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Makati
      </div>
    
  </div>
</div>

    <div id="algolia-search-modal" class="modal-container">
  <div class="modal">
    <div class="modal-header">
      <span class="close-button"><i class="fa fa-close"></i></span>
      <a href="https://algolia.com" target="_blank" rel="noopener" class="searchby-algolia text-color-light link-unstyled">
        <span class="searchby-algolia-text text-color-light text-small">by</span>
        <img class="searchby-algolia-logo" src="https://www.algolia.com/static_assets/images/press/downloads/algolia-light.svg">
      </a>
      <i class="search-icon fa fa-search"></i>
      <form id="algolia-search-form">
        <input type="text" id="algolia-search-input" name="search"
          class="form-control input--large search-input" placeholder="搜索" />
      </form>
    </div>
    <div class="modal-body">
      <div class="no-result text-color-light text-center"></div>
      <div class="results">
        
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://duzhi5368.github.io/2023/01/%E5%91%A8%E8%AE%B020230114-20230121/">
                <h3 class="media-heading">周记20230114-20230121</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2023
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>上周恢复日志记录后，至今大约1周，期间出门两次，均是人际交往，一个是和葫芦兄弟的闲聊，一次是过年和崔哥去赤道纪念碑游玩。从健康角度来说是好事，但我从昆卡回来后，满脑子只想死宅家里学习，导致心里不情不愿的，反而玩的不算尽兴。之后看情况是需要减少这种效率不高的社交了。</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://duzhi5368.github.io/2023/01/2023%E5%B9%B4%E4%B8%80%E5%88%87%E9%87%8D%E6%96%B0%E5%BC%80%E6%9B%B4/">
                <h3 class="media-heading">2023年，一切重新开更</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2023
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>两年没有写日记了，主要原因是前两年工作内容调整，其中不少内容保密协议，生怕自己写多了又泄露什么开发进度被扣工资，另一方面也是心态变化很大，想离职躺平，不希望被同事看到这里，所以干脆停更。</p>

<p>现在已离职在美洲挂机，就可以畅所欲言了。有博客的好处就体现出来了，纵使没人看，也可以很好的自我激励和监督，免得无所事事的沉沦下去。</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://duzhi5368.github.io/2021/04/%E5%8F%8C%E6%9C%88%E8%AE%B0202102-03/">
                <h3 class="media-heading">双月记202102-03</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Apr 4, 2021
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>身体情况</p>

<p>家里购房</p>

<p>美术练习</p>

<p>Android开发</p>

<p>B站</p>

<p>移民</p>

<p>英语学习</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://duzhi5368.github.io/2021/02/%E6%9C%88%E8%AE%B0202101/">
                <h3 class="media-heading">月记202101</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Feb 2, 2021
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>一月算是逐步恢复状态的一个月吧，大致恢复了一些学习状态。另外，对直播，自学，以及美术方向，独立游戏方向 做了一些整理。最后补了一发人人字幕事情。</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://duzhi5368.github.io/2021/01/%E7%BE%8E%E6%9C%AF%E6%B5%81%E7%A8%8B%E6%95%B4%E7%90%86/">
                <h3 class="media-heading">美术流程整理</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2021
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><ul>
<li>基础</li>
<li>场景</li>
<li>角色</li>
<li>插画</li>
<li>风格</li>
</ul>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://duzhi5368.github.io/2021/01/2020%E5%B9%B4%E8%AE%B0/">
                <h3 class="media-heading">2020年记</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Jan 1, 2021
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>因为上个月记实在12月中旬写的，月底也基本没做什么大事，所以省一次月记，做个年总结罢。</p>

<p>其实QQ空间有做一个简单整理，但QQ里面都是熟人，多少有些话也不便说太透，所以这里会写的更真实详细一点点。</p>

<p>主要就是生活移民以及学习方式的整理，最后补了一些三观碎片。</p>

<ul>
<li>生活 - 移民</li>
<li>学习 - 长期，勤快总结</li>
<li>学习二 - 美术</li>
<li>思辩 - 恶法非法</li>
</ul>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://duzhi5368.github.io/2020/12/rya%E8%88%B9%E9%95%BF%E5%A4%8D%E4%B9%A0-%E5%88%9D%E7%BA%A7%E7%AF%87/">
                <h3 class="media-heading">RYA船长复习-初级篇</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2020
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><ul>
<li>基本介绍</li>
<li>帆船驾照</li>
<li>帆船类型</li>
<li>逆风航行原理</li>
<li>帆船内外部结构</li>
<li>绳结</li>
<li>航海装备</li>
<li>风力风向</li>
<li>升降前帆主帆</li>
<li>调帆</li>
</ul>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://duzhi5368.github.io/2020/12/%E6%9C%88%E8%AE%B0202011/">
                <h3 class="media-heading">月记202011</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Dec 12, 2020
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><ul>
<li>技术投资向</li>
<li>死亡边缘</li>
<li>万事皆允</li>
<li>Steam</li>
<li>十年尘封感情</li>
</ul>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://duzhi5368.github.io/2020/11/%E6%9C%88%E8%AE%B0202010/">
                <h3 class="media-heading">月记202010</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Nov 11, 2020
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>日本工作
技术方向
时间投资
资本计算
想法
直播</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
          <div class="media">
            
            <div class="media-body">
              <a class="link-unstyled" href="https://duzhi5368.github.io/2020/09/%E5%8F%8C%E6%9C%88%E8%AE%B0202008-09/">
                <h3 class="media-heading">双月记202008-09</h3>
              </a>
              <span class="media-meta">
                <span class="media-date text-small">
                  Sep 9, 2020
                </span>
              </span>
              <div class="media-content hide-xs font-merryweather"><p>红楼梦与小说</p>

<p>3D国产动画</p>

<p>美术和技术</p>

<p>我与在线主播的那些事</p>

<p>吃老本的人可耻！！！</p>

<p>微软全家桶</p>

<p>被玩坏的工作方向</p>

<p></p></div>
            </div>
            <div style="clear:both;"></div>
            <hr>
          </div>
        
      </div>
    </div>
    <div class="modal-footer">
      <p class="results-count text-medium"
         data-message-zero=""
         data-message-one=""
         data-message-other="">
         289 posts found
      </p>
    </div>
  </div>
</div>
    
  
    
    <div id="cover" style="background-image:url('https://duzhi5368.github.io/images/cover.png');"></div>
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js" integrity="sha256-IFHWFEbU2/+wNycDECKgjIRSirRNIDp2acEB5fvdVRU=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.8.0/highlight.min.js" integrity="sha256-+mpyNVJsNt4rVXCw0F+pAOiB3YxmHgrbJsx4ecPuUaI=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.js" integrity="sha256-vMxgR/7FtLovVA+IPrR7+xTgIgARH7y9VZQnmmi0HDI=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.js" integrity="sha256-N0qFUh7/9vLvia87dDndewmsgsyYoNkdA212tPc+2NI=" crossorigin="anonymous"></script>


<script src="https://duzhi5368.github.io/js/script-qi9wbxp2ya2j6p7wx1i6tgavftewndznf4v0hy2gvivk1rxgc3lm7njqb6bz.min.js"></script>


<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>

  
    
      <script>
        var disqus_config = function () {
          this.page.url = 'https:\/\/duzhi5368.github.io\/2007\/04\/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%BA%8C\/';
          
            this.page.identifier = '\/2007\/04\/%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B%E4%BA%8C\/'
          
        };
        (function() {
          
          
          if (window.location.hostname == "localhost") {
            return;
          }
          var d = document, s = d.createElement('script');
          var disqus_shortname = 'duzhi5368-github-io';
          s.src = '//' + disqus_shortname + '.disqus.com/embed.js';

          s.setAttribute('data-timestamp', +new Date());
          (d.head || d.body).appendChild(s);
        })();
      </script>
    
  



    
  </body>
</html>

